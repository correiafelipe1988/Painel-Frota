"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{22346:(e,t,a)=>{a.d(t,{w:()=>n});var r=a(95155),o=a(12115),s=a(87489),i=a(59434);let n=o.forwardRef((e,t)=>{let{className:a,orientation:o="horizontal",decorative:n=!0,...d}=e;return(0,r.jsx)(s.b,{ref:t,decorative:n,orientation:o,className:(0,i.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",a),...d})});n.displayName=s.b.displayName},30285:(e,t,a)=>{a.d(t,{$:()=>l,r:()=>d});var r=a(95155),o=a(12115),s=a(99708),i=a(74466),n=a(59434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,t)=>{let{className:a,variant:o,size:i,asChild:l=!1,...c}=e,u=l?s.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(d({variant:o,size:i,className:a})),ref:t,...c})});l.displayName="Button"},59434:(e,t,a)=>{a.d(t,{cn:()=>s,j:()=>n,k:()=>i});var r=a(52596),o=a(39688);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,r.$)(t))}let i=e=>{if(!e)return"N/Definido";switch(e){case"active":return"Ativa";case"alugada":return"Alugada";case"manutencao":return"Manuten\xe7\xe3o";case"sucata":return"Sucata";case"sinistro":return"Sinistro";case"furtada":return"Furtada";case"apropriacao_indebita":return"Apropria\xe7\xe3o Ind\xe9bita";case"nao_transferida":return"N\xe3o Transferida";case"vendida":return"Vendida";case"nao_localizada":return"N\xe3o Localizada";default:return e.charAt(0).toUpperCase()+e.slice(1)}},n=e=>e.toLowerCase().trim().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"")},59576:(e,t,a)=>{a.d(t,{A:()=>l,AuthProvider:()=>c});var r=a(95155),o=a(12115),s=a(93004),i=a(67039),n=a(87481);let d=(0,o.createContext)(void 0);function l(){let e=(0,o.useContext)(d);if(void 0===e)throw Error("useAuth deve ser usado dentro de um AuthProvider");return e}function c(e){let{children:t}=e,[a,l]=(0,o.useState)(null),[c,u]=(0,o.useState)(!0),[f,p]=(0,o.useState)(!1),[g,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=!0,t=(()=>{{let e=localStorage.getItem("firebase_user");if(e)try{let t=JSON.parse(e);return console.log("Found saved user in localStorage:",t.email),p(!0),!0}catch(e){console.warn("Error parsing saved user:",e),localStorage.removeItem("firebase_user")}}return p(!0),!1})(),r=(0,s.hg)(i.j,t=>{if(e)if(console.log("Auth state changed:",t?"User logged in: ".concat(t.email):"User logged out"),l(t),u(!1),p(!0),t){let e={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,timestamp:Date.now()};try{localStorage.setItem("firebase_user",JSON.stringify(e)),console.log("User data saved to localStorage:",e.email)}catch(e){console.warn("Failed to save user data to localStorage:",e)}}else try{localStorage.removeItem("firebase_user"),console.log("User data removed from localStorage")}catch(e){console.warn("Failed to remove user data from localStorage:",e)}},t=>{e&&(console.error("Auth state change error:",t),u(!1),p(!0))});if(t){let t=setTimeout(()=>{e&&!a&&(console.log("Stored user found but Firebase Auth not restored, setting loading to false"),u(!1))},4e3);return()=>{e=!1,r(),clearTimeout(t)}}{let t=setTimeout(()=>{e&&!f&&(console.log("Timeout reached, setting loading to false"),u(!1),p(!0))},3e3);return()=>{e=!1,r(),clearTimeout(t)}}},[f,a]);let h=async(e,t)=>{try{await (0,s.x9)(i.j,e,t),(0,n.oR)({title:"Login realizado com sucesso!",description:"Bem-vindo ao Controle de Frota"})}catch(t){let e="Erro ao fazer login";switch(t.code){case"auth/api-key-not-valid":e="Chave de API do Firebase inv\xe1lida. Verifique a configura\xe7\xe3o.";break;case"auth/user-not-found":e="Usu\xe1rio n\xe3o encontrado";break;case"auth/wrong-password":e="Senha incorreta";break;case"auth/invalid-email":e="Email inv\xe1lido";break;case"auth/user-disabled":e="Usu\xe1rio desabilitado";break;case"auth/too-many-requests":e="Muitas tentativas. Tente novamente mais tarde";break;case"auth/invalid-credential":e="Credenciais inv\xe1lidas";break;case"auth/network-request-failed":e="Erro de rede. Verifique sua conex\xe3o.";break;default:e=t.message||"Erro desconhecido"}throw(0,n.oR)({title:"Erro no login",description:e,variant:"destructive"}),t}},v=async(e,t,a)=>{try{let r=await (0,s.eJ)(i.j,e,t);await (0,s.r7)(r.user,{displayName:a}),(0,n.oR)({title:"Conta criada com sucesso!",description:"Bem-vindo ao Controle de Frota"})}catch(t){let e="Erro ao criar conta";switch(t.code){case"auth/email-already-in-use":e="Este email j\xe1 est\xe1 em uso";break;case"auth/invalid-email":e="Email inv\xe1lido";break;case"auth/weak-password":e="A senha deve ter pelo menos 6 caracteres";break;default:e=t.message||"Erro desconhecido"}throw(0,n.oR)({title:"Erro ao criar conta",description:e,variant:"destructive"}),t}},b=async()=>{try{await (0,s.CI)(i.j),(0,n.oR)({title:"Logout realizado",description:"At\xe9 logo!"})}catch(e){throw(0,n.oR)({title:"Erro ao fazer logout",description:e.message||"Erro desconhecido",variant:"destructive"}),e}};return(0,r.jsx)(d.Provider,{value:{user:a,loading:c,signIn:h,signUp:v,logout:b},children:t})}},62523:(e,t,a)=>{a.d(t,{p:()=>i});var r=a(95155),o=a(12115),s=a(59434);let i=o.forwardRef((e,t)=>{let{className:a,type:o,...i}=e;return(0,r.jsx)("input",{type:o,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},66695:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n});var r=a(95155),o=a(12115),s=a(59434);let i=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...o})});i.displayName="Card";let n=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...o})});n.displayName="CardHeader";let d=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...o})});d.displayName="CardTitle";let l=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...o})});l.displayName="CardDescription";let c=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...o})});c.displayName="CardContent",o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...o})}).displayName="CardFooter"},67039:(e,t,a)=>{let r,o,s;a.d(t,{db:()=>o,j:()=>s});var i=a(23915),n=a(35317),d=a(93004);let l={apiKey:"AIzaSyAK9MlA66PHTODqKxCrwTIe0t8Kgy_eORk",authDomain:"painel-frota-ecdef.firebaseapp.com",projectId:"painel-frota-ecdef",storageBucket:"painel-frota-ecdef.firebasestorage.app",messagingSenderId:"991296626584",appId:"1:991296626584:web:ee98ee02ca1e9cde38d5ed"},c=Object.entries(l).filter(e=>{let[t,a]=e;return!a}).map(e=>{let[t]=e;return"NEXT_PUBLIC_FIREBASE_".concat(t.toUpperCase())});if(c.length>0)throw Error("Vari\xe1veis de ambiente do Firebase n\xe3o encontradas: ".concat(c.join(", ")));let u={apiKey:l.apiKey,authDomain:l.authDomain,projectId:l.projectId,storageBucket:l.storageBucket,messagingSenderId:l.messagingSenderId,appId:l.appId};try{r=(0,i.Dk)().length?(0,i.Sx)():(0,i.Wp)(u),o=(0,n.aU)(r),s=(0,d.xI)(r),(0,d.oM)(s,d.F0).catch(e=>{console.warn("Erro ao configurar persist\xeancia do Firebase Auth:",e)})}catch(e){throw console.error("Erro ao inicializar Firebase:",e),e}},87481:(e,t,a)=>{a.d(t,{dj:()=>f,oR:()=>u});var r=a(12115);let o=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=n(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,a=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=r.useState(l);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}}]);