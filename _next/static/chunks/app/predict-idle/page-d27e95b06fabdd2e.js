(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{17066:(e,a,s)=>{Promise.resolve().then(s.bind(s,32560))},17313:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>c,av:()=>i,j7:()=>n,tU:()=>o});var t=s(95155),r=s(12115),l=s(60704),d=s(59434);let o=l.bL,n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.B8,{ref:a,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});n.displayName=l.B8.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.l9,{ref:a,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});c.displayName=l.l9.displayName;let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.UC,{ref:a,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});i.displayName=l.UC.displayName},32560:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>X});var t=s(95155),r=s(12115),l=s(23169),d=s(49551),o=s(66695),n=s(26126),c=s(55365),i=s(85127),m=s(17313),u=s(62523),x=s(59409),h=s(30285),f=s(5263),p=s(75074),j=s(25318),g=s(50286),v=s(37648),y=s(31949),b=s(80659),N=s(9041),w=s(99591),A=s(83540),D=s(51382),C=s(94754),q=s(96025),M=s(16238),k=s(94517),I=s(24026),F=s(83394),R=s(36079),S=s(21374),T=s(81499);let _={motorcyclesAbove7Days:{label:"Motos Ociosas (+7 dias)",color:"#4f46e5"},averageIdleDays:{label:"M\xe9dia de Dias Ociosos",color:"#10b981"}},B=e=>{let{x:a,y:s,width:r,height:l,value:d}=e;return(0,t.jsx)("text",{x:a+r/2,y:s+l/2,fill:"#fff",textAnchor:"middle",dy:6,fontSize:"12",fontWeight:"bold",children:d})},L=e=>{let{x:a,y:s,value:r}=e;return(0,t.jsx)("text",{x:a,y:s-10,fill:"#10b981",textAnchor:"middle",fontSize:"12",fontWeight:"bold",children:r})};function Z(e){let{data:a}=e,s=[...a].sort((e,a)=>a.motorcyclesAbove7Days-e.motorcyclesAbove7Days);return(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{className:"flex items-center gap-2",children:"\uD83C\uDFCDï¸ An\xe1lise de Ociosidade por Franqueado"}),(0,t.jsx)(o.BT,{children:"Volume de motos ociosas (barras) e m\xe9dia de dias ociosos (linha)."})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(T.at,{config:_,children:(0,t.jsx)(A.u,{width:"100%",height:400,children:(0,t.jsxs)(D.X,{data:s,margin:{top:40,right:30,left:20,bottom:100},children:[(0,t.jsx)(C.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,t.jsx)(q.W,{dataKey:"franqueado",angle:-45,textAnchor:"end",height:100,fontSize:11,interval:0,stroke:"#666"}),(0,t.jsx)(M.h,{yAxisId:"left",orientation:"left",stroke:"#666",fontSize:11,label:{value:"Volume",angle:-90,position:"insideLeft"}}),(0,t.jsx)(M.h,{yAxisId:"right",orientation:"right",stroke:"#10b981",fontSize:11}),(0,t.jsx)(k.m,{content:e=>{let{active:a,payload:s,label:r}=e;return a&&s&&s.length?(0,t.jsxs)("div",{className:"bg-white p-3 border rounded shadow-lg border-gray-200",children:[(0,t.jsx)("p",{className:"font-medium text-gray-800 mb-2",children:r}),s.map((e,a)=>(0,t.jsxs)("p",{className:"text-sm",style:{color:e.color},children:[(0,t.jsxs)("span",{className:"font-medium",children:[e.name,":"]})," ",e.value,"averageIdleDays"===e.dataKey?" dias":" motos"]},a))]}):null}}),(0,t.jsx)(I.s,{verticalAlign:"top",height:36,iconType:"rect",wrapperStyle:{paddingBottom:"20px"}}),(0,t.jsx)(F.y,{yAxisId:"left",dataKey:"motorcyclesAbove7Days",fill:_.motorcyclesAbove7Days.color,name:"Motos Ociosas",radius:[4,4,0,0],children:(0,t.jsx)(R.Z,{content:B})}),(0,t.jsx)(S.N,{yAxisId:"right",type:"monotone",dataKey:"averageIdleDays",stroke:_.averageIdleDays.color,strokeWidth:3,dot:{fill:_.averageIdleDays.color,strokeWidth:2,r:6,stroke:"#fff"},name:"M\xe9dia Dias",children:(0,t.jsx)(R.Z,{content:L})})]})})})})]})}var E=s(8782),W=s(34e3),O=s(54811);let z=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function P(e){let{data:a}=e,s=a.map((e,a)=>({name:e.franqueado,value:e.percentualCriticas,fill:z[a%z.length]}));return(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Percentual de Motos Cr\xedticas por Franqueado"}),(0,t.jsx)(o.BT,{children:"Distribui\xe7\xe3o do percentual de motos com mais de 7 dias ociosas"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(T.at,{config:{},children:(0,t.jsx)(A.u,{width:"100%",height:350,children:(0,t.jsxs)(E.r,{children:[(0,t.jsx)(W.F,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:a,value:s}=e;return"".concat(a,": ").concat(s,"%")},outerRadius:120,fill:"#8884d8",dataKey:"value",children:s.map((e,a)=>(0,t.jsx)(O.f,{fill:e.fill},"cell-".concat(a)))}),(0,t.jsx)(k.m,{formatter:e=>["".concat(e,"%"),"Percentual Cr\xedtico"]}),(0,t.jsx)(I.s,{})]})})})})]})}function U(e){let{data:a}=e;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-1",children:(0,t.jsx)(Z,{data:a})}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-1",children:(0,t.jsx)(P,{data:a})})]})}function X(){let[e,a]=(0,r.useState)([]),[s,A]=(0,r.useState)(!0),[D,C]=(0,r.useState)(""),[q,M]=(0,r.useState)("all"),[k,I]=(0,r.useState)("all");(0,r.useEffect)(()=>{A(!0);let e=(0,w.Ef)(e=>{Array.isArray(e)?a(e):(console.warn("Data from subscribeToMotorcycles was not an array:",e),a([])),A(!1)});return()=>e()},[]);let F=(0,r.useMemo)(()=>e.filter(a=>(0,w.wu)(e,a)).map(a=>({...a,calculatedIdleDays:(0,w.GG)(e,a)})),[e]),R=(0,r.useMemo)(()=>{let e=e=>e&&"Sem Franqueado"!==e?e.trim().toUpperCase().replace(/\s+/g," ").replace(/[^\w\s-]/g,"").replace(/\s*-\s*/g," - "):"Sem Franqueado";return F.filter(a=>{let s=""===D||(a.placa||"").toLowerCase().includes(D.toLowerCase())||(a.franqueado||"").toLowerCase().includes(D.toLowerCase())||(a.model||"").toLowerCase().includes(D.toLowerCase()),t="all"===q||a.status===q,r="all"===k||e(a.franqueado||"Sem Franqueado")===e(k);return s&&t&&r})},[F,D,q,k]),S=(0,r.useMemo)(()=>{let e=new Set,a=e=>e&&"Sem Franqueado"!==e?e.trim().toUpperCase().replace(/\s+/g," ").replace(/[^\w\s-]/g,"").replace(/\s*-\s*/g," - "):"Sem Franqueado",s=new Map;return F.forEach(e=>{let t=e.franqueado||"Sem Franqueado",r=a(t);s.has(r)||s.set(r,t)}),s.forEach(a=>{e.add(a)}),Array.from(e).sort()},[F]),T=(0,r.useMemo)(()=>{let e=R.filter(e=>"number"==typeof e.calculatedIdleDays&&e.calculatedIdleDays>=0);if(0===e.length)return{totalMotorcycles:0,averageIdleDays:0,motorcyclesAbove7Days:0,percentageAbove7Days:0};let a=e.reduce((e,a)=>e+a.calculatedIdleDays,0)/e.length,s=e.filter(e=>e.calculatedIdleDays>7).length,t=s/e.length*100;return{totalMotorcycles:e.length,averageIdleDays:Math.round(10*a)/10,motorcyclesAbove7Days:s,percentageAbove7Days:Math.round(10*t)/10}},[R]),_=(0,r.useMemo)(()=>{let e=new Map,a=e=>e&&"Sem Franqueado"!==e?e.trim().toUpperCase().replace(/\s+/g," ").replace(/[^\w\s-]/g,"").replace(/\s*-\s*/g," - "):"Sem Franqueado",s=new Map;return R.forEach(e=>{if("number"==typeof e.calculatedIdleDays&&e.calculatedIdleDays>=0){let t=e.franqueado||"Sem Franqueado",r=a(t);s.has(r)||s.set(r,{originalName:t,motos:[]}),s.get(r).motos.push(e)}}),s.forEach((a,s)=>{let{originalName:t,motos:r}=a;e.set(t,r)}),Array.from(e.entries()).map(e=>{let[a,s]=e,t=s.reduce((e,a)=>e+a.calculatedIdleDays,0)/s.length,r=s.filter(e=>e.calculatedIdleDays>7).length;return{franqueado:a,totalMotorcycles:s.length,averageIdleDays:Math.round(10*t)/10,motorcyclesAbove7Days:r,motorcyclesList:s.filter(e=>e.calculatedIdleDays>7).map(e=>({placa:e.placa||"N/A",idleDays:e.calculatedIdleDays,status:e.status||"N/A"})).sort((e,a)=>a.idleDays-e.idleDays)}}).sort((e,a)=>a.averageIdleDays-e.averageIdleDays)},[R]),B=(0,r.useMemo)(()=>R.filter(e=>"number"==typeof e.calculatedIdleDays&&e.calculatedIdleDays>7).map(e=>({placa:e.placa||"N/A",franqueado:e.franqueado||"Sem Franqueado",idleDays:e.calculatedIdleDays,status:e.status||"N/A",model:e.model||"N/A"})).sort((e,a)=>a.idleDays-e.idleDays),[R]),L=""!==D||"all"!==q||"all"!==k;return s?(0,t.jsxs)(l.DashboardLayout,{children:[(0,t.jsx)(d.z,{title:"Relat\xf3rio de Ociosidade",description:"An\xe1lise completa dos dias ociosos da frota",icon:f.A,iconContainerClassName:"bg-orange-500"}),(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("p",{children:"Carregando dados do relat\xf3rio..."})})]}):(0,t.jsxs)(l.DashboardLayout,{children:[(0,t.jsx)(d.z,{title:"Relat\xf3rio de Ociosidade",description:"An\xe1lise completa dos dias ociosos da frota",icon:f.A,iconContainerClassName:"bg-orange-500"}),(0,t.jsxs)(o.Zp,{className:"mb-6",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-5 w-5"}),"Filtros de Pesquisa"]}),(0,t.jsx)(o.BT,{children:"Filtre os dados por placa, franqueado, modelo ou status"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Buscar"}),(0,t.jsx)(u.p,{placeholder:"Placa, franqueado ou modelo...",value:D,onChange:e=>C(e.target.value),className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,t.jsxs)(x.l6,{value:q,onValueChange:M,children:[(0,t.jsx)(x.bq,{children:(0,t.jsx)(x.yv,{placeholder:"Todos os status"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"all",children:"Todos os Status"}),(0,t.jsx)(x.eb,{value:"active",children:"Dispon\xedvel"}),(0,t.jsx)(x.eb,{value:"manutencao",children:"Manuten\xe7\xe3o"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Franqueado"}),(0,t.jsxs)(x.l6,{value:k,onValueChange:I,children:[(0,t.jsx)(x.bq,{children:(0,t.jsx)(x.yv,{placeholder:"Todos os franqueados"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"all",children:"Todos os Franqueados"}),S.map(e=>(0,t.jsx)(x.eb,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"A\xe7\xf5es"}),(0,t.jsxs)(h.$,{variant:"outline",onClick:()=>{C(""),M("all"),I("all")},disabled:!L,className:"w-full",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]})]})]}),L&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Filtros ativos:"})," Mostrando ",R.length," de ",F.length," motos"]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mt-6 mb-6",children:[(0,t.jsx)(o.Zp,{className:"border-l-4 border-l-blue-500 shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,t.jsxs)(o.Wu,{className:"p-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Total de Motos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:T.totalMotorcycles}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Com dados de ociosidade"})]}),(0,t.jsx)("div",{className:"p-3 rounded-lg bg-blue-500",children:(0,t.jsx)(g.A,{className:"h-6 w-6 text-white"})})]})}),(0,t.jsx)(o.Zp,{className:"border-l-4 border-l-green-500 shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,t.jsxs)(o.Wu,{className:"p-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"M\xe9dia de Dias Ociosos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-500",children:T.averageIdleDays}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"dias por moto"})]}),(0,t.jsx)("div",{className:"p-3 rounded-lg bg-green-500",children:(0,t.jsx)(v.A,{className:"h-6 w-6 text-white"})})]})}),(0,t.jsx)(o.Zp,{className:"border-l-4 border-l-orange-500 shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,t.jsxs)(o.Wu,{className:"p-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Motos +7 Dias"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-500",children:T.motorcyclesAbove7Days}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[T.percentageAbove7Days,"% do total"]})]}),(0,t.jsx)("div",{className:"p-3 rounded-lg bg-orange-500",children:(0,t.jsx)(y.A,{className:"h-6 w-6 text-white"})})]})}),(0,t.jsx)(o.Zp,{className:"border-l-4 border-l-purple-500 shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,t.jsxs)(o.Wu,{className:"p-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Status da Frota"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:T.percentageAbove7Days>20?(0,t.jsx)("span",{className:"text-red-600",children:"Cr\xedtico"}):T.percentageAbove7Days>10?(0,t.jsx)("span",{className:"text-orange-600",children:"Aten\xe7\xe3o"}):(0,t.jsx)("span",{className:"text-green-600",children:"Bom"})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Baseado em +7 dias"})]}),(0,t.jsx)("div",{className:"p-3 rounded-lg bg-purple-500",children:(0,t.jsx)(b.A,{className:"h-6 w-6 text-white"})})]})})]}),T.motorcyclesAbove7Days>0&&(0,t.jsxs)(c.Fc,{className:"mb-6 border-orange-200 bg-orange-50",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 text-orange-600"}),(0,t.jsxs)(c.XL,{className:"text-orange-800",children:["Aten\xe7\xe3o: ",T.motorcyclesAbove7Days," motos com mais de 7 dias ociosas"]}),(0,t.jsxs)(c.TN,{className:"text-orange-700",children:[T.percentageAbove7Days,"% da frota est\xe1 com tempo de ociosidade acima do recomendado. Verifique as abas abaixo para detalhes por franqueado e lista completa."]})]}),(0,t.jsxs)(m.tU,{defaultValue:"franqueados",className:"space-y-4",children:[(0,t.jsxs)(m.j7,{children:[(0,t.jsx)(m.Xi,{value:"franqueados",children:"Por Franqueado"}),(0,t.jsx)(m.Xi,{value:"criticas",children:"Motos Cr\xedticas"}),(0,t.jsxs)(m.Xi,{value:"graficos",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Gr\xe1ficos"]})]}),(0,t.jsx)(m.av,{value:"franqueados",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"An\xe1lise por Franqueado"}),(0,t.jsx)(o.BT,{children:"M\xe9dia de dias ociosos e motos cr\xedticas por franqueado"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(i.XI,{children:[(0,t.jsx)(i.A0,{children:(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nd,{children:"Franqueado"}),(0,t.jsx)(i.nd,{className:"text-center",children:"Total Motos"}),(0,t.jsx)(i.nd,{className:"text-center",children:"M\xe9dia Dias Ociosos"}),(0,t.jsx)(i.nd,{className:"text-center",children:"Motos +7 Dias"}),(0,t.jsx)(i.nd,{className:"text-center",children:"% Cr\xedticas"})]})}),(0,t.jsx)(i.BF,{children:_.map(e=>(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nA,{className:"font-medium",children:e.franqueado}),(0,t.jsx)(i.nA,{className:"text-center",children:e.totalMotorcycles}),(0,t.jsx)(i.nA,{className:"text-center",children:(0,t.jsxs)(n.E,{variant:e.averageIdleDays>7?"destructive":e.averageIdleDays>5?"secondary":"default",children:[e.averageIdleDays," dias"]})}),(0,t.jsx)(i.nA,{className:"text-center",children:e.motorcyclesAbove7Days>0?(0,t.jsx)(n.E,{variant:"destructive",children:e.motorcyclesAbove7Days}):(0,t.jsx)("span",{className:"text-green-600",children:"0"})}),(0,t.jsxs)(i.nA,{className:"text-center",children:[Math.round(e.motorcyclesAbove7Days/e.totalMotorcycles*100),"%"]})]},e.franqueado))})]})})})]})}),(0,t.jsx)(m.av,{value:"criticas",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Motos com Mais de 7 Dias Ociosas"}),(0,t.jsx)(o.BT,{children:"Lista detalhada de todas as motos que precisam de aten\xe7\xe3o"})]}),(0,t.jsx)(o.Wu,{children:0===B.length?(0,t.jsxs)("div",{className:"text-center py-8 text-green-600",children:[(0,t.jsx)(v.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Excelente! Nenhuma moto com mais de 7 dias ociosa."}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sua frota est\xe1 bem otimizada."})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(i.XI,{children:[(0,t.jsx)(i.A0,{children:(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nd,{children:"Placa"}),(0,t.jsx)(i.nd,{children:"Franqueado"}),(0,t.jsx)(i.nd,{children:"Modelo"}),(0,t.jsx)(i.nd,{children:"Status"}),(0,t.jsx)(i.nd,{className:"text-center",children:"Dias Ociosos"}),(0,t.jsx)(i.nd,{className:"text-center",children:"Prioridade"})]})}),(0,t.jsx)(i.BF,{children:B.map(e=>(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nA,{className:"font-medium",children:e.placa}),(0,t.jsx)(i.nA,{children:e.franqueado}),(0,t.jsx)(i.nA,{children:e.model}),(0,t.jsx)(i.nA,{children:(0,t.jsx)(n.E,{variant:"manutencao"===e.status?"secondary":"active"===e.status?"default":"outline",children:"manutencao"===e.status?"Manuten\xe7\xe3o":"active"===e.status?"Dispon\xedvel":e.status})}),(0,t.jsx)(i.nA,{className:"text-center",children:(0,t.jsxs)(n.E,{variant:"destructive",children:[e.idleDays," dias"]})}),(0,t.jsx)(i.nA,{className:"text-center",children:e.idleDays>15?(0,t.jsx)(n.E,{variant:"destructive",children:"Urgente"}):e.idleDays>10?(0,t.jsx)(n.E,{variant:"secondary",children:"Alta"}):(0,t.jsx)(n.E,{variant:"outline",children:"M\xe9dia"})})]},e.placa))})]})})})]})}),(0,t.jsx)(m.av,{value:"graficos",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Visualiza\xe7\xe3o Gr\xe1fica dos Dados de Ociosidade"}),(0,t.jsx)(o.BT,{children:"An\xe1lise visual executiva dos dados de ociosidade por franqueado"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(U,{data:_.map(e=>({franqueado:e.franqueado,totalMotorcycles:e.totalMotorcycles,averageIdleDays:e.averageIdleDays,motorcyclesAbove7Days:e.motorcyclesAbove7Days,percentualCriticas:Math.round(e.motorcyclesAbove7Days/e.totalMotorcycles*100)}))})})]})})]})]})}},49551:(e,a,s)=>{"use strict";s.d(a,{z:()=>l});var t=s(95155),r=s(59434);function l(e){let{title:a,description:s,actions:l,icon:d,iconContainerClassName:o}=e;return(0,t.jsxs)("div",{className:"mb-6 md:flex md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1 flex items-center gap-3",children:[d&&(0,t.jsx)("div",{className:(0,r.cn)("p-2 rounded-lg",o),children:(0,t.jsx)(d,{className:"h-8 w-8 text-primary-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold leading-7 text-foreground sm:truncate sm:text-3xl sm:tracking-tight font-headline",children:a}),s&&(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:s})]})]}),l&&(0,t.jsx)("div",{className:"mt-4 flex flex-shrink-0 md:ml-4 md:mt-0 gap-2",children:l})]})}},55365:(e,a,s)=>{"use strict";s.d(a,{Fc:()=>n,TN:()=>i,XL:()=>c});var t=s(95155),r=s(12115),l=s(74466),d=s(59434);let o=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=r.forwardRef((e,a)=>{let{className:s,variant:r,...l}=e;return(0,t.jsx)("div",{ref:a,role:"alert",className:(0,d.cn)(o({variant:r}),s),...l})});n.displayName="Alert";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h5",{ref:a,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})});c.displayName="AlertTitle";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",s),...r})});i.displayName="AlertDescription"},59409:(e,a,s)=>{"use strict";s.d(a,{bq:()=>u,eb:()=>p,gC:()=>f,l6:()=>i,yv:()=>m});var t=s(95155),r=s(12115),l=s(93081),d=s(79556),o=s(77381),n=s(10518),c=s(59434);let i=l.bL;l.YJ;let m=l.WT,u=r.forwardRef((e,a)=>{let{className:s,children:r,...o}=e;return(0,t.jsxs)(l.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...o,children:[r,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let f=r.forwardRef((e,a)=>{let{className:s,children:r,position:d="popper",...o}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:d,...o,children:[(0,t.jsx)(x,{}),(0,t.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(h,{})]})})});f.displayName=l.UC.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.JU.displayName;let p=r.forwardRef((e,a)=>{let{className:s,children:r,...d}=e;return(0,t.jsxs)(l.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:r})]})});p.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},81499:(e,a,s)=>{"use strict";s.d(a,{Hm:()=>f,Nt:()=>h,at:()=>u});var t=s(95155),r=s(12115),l=s(83540),d=s(94517),o=s(24026),n=s(59434);let c={light:"",dark:".dark"},i=r.createContext(null);function m(){let e=r.useContext(i);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let u=r.forwardRef((e,a)=>{let{id:s,className:d,children:o,config:c,...m}=e,u=r.useId(),h="chart-".concat(s||u.replace(/:/g,""));return(0,t.jsx)(i.Provider,{value:{config:c},children:(0,t.jsxs)("div",{"data-chart":h,ref:a,className:(0,n.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",d),...m,children:[(0,t.jsx)(x,{id:h,config:c}),(0,t.jsx)(l.u,{children:o})]})})});u.displayName="Chart";let x=e=>{let{id:a,config:s}=e,r=Object.entries(s).filter(e=>{let[,a]=e;return a.theme||a.color});return r.length?(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(c).map(e=>{let[s,t]=e;return"\n".concat(t," [data-chart=").concat(a,"] {\n").concat(r.map(e=>{var a;let[t,r]=e,l=(null==(a=r.theme)?void 0:a[s])||r.color;return l?"  --color-".concat(t,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null};d.m;let h=r.forwardRef((e,a)=>{let{active:s,payload:l,className:d,indicator:o="dot",hideLabel:c=!1,hideIndicator:i=!1,label:u,labelFormatter:x,labelClassName:h,formatter:f,color:j,nameKey:g,labelKey:v}=e,{config:y}=m(),b=r.useMemo(()=>{var e;if(c||!(null==l?void 0:l.length))return null;let[a]=l,s="".concat(v||a.dataKey||a.name||"value"),r=p(y,a,s),d=v||"string"!=typeof u?null==r?void 0:r.label:(null==(e=y[u])?void 0:e.label)||u;return x?(0,t.jsx)("div",{className:(0,n.cn)("font-medium",h),children:x(d,l)}):d?(0,t.jsx)("div",{className:(0,n.cn)("font-medium",h),children:d}):null},[u,x,l,c,h,y,v]);if(!s||!(null==l?void 0:l.length))return null;let N=1===l.length&&"dot"!==o;return(0,t.jsxs)("div",{ref:a,className:(0,n.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",d),children:[N?null:b,(0,t.jsx)("div",{className:"grid gap-1.5",children:l.map((e,a)=>{let s="".concat(g||e.name||e.dataKey||"value"),r=p(y,e,s),l=j||e.payload.fill||e.color;return(0,t.jsx)("div",{className:(0,n.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:f&&(null==e?void 0:e.value)!==void 0&&e.name?f(e.value,e.name,e,a,e.payload):(0,t.jsxs)(t.Fragment,{children:[(null==r?void 0:r.icon)?(0,t.jsx)(r.icon,{}):!i&&(0,t.jsx)("div",{className:(0,n.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":N&&"dashed"===o}),style:{"--color-bg":l,"--color-border":l}}),(0,t.jsxs)("div",{className:(0,n.cn)("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[(0,t.jsxs)("div",{className:"grid gap-1.5",children:[N?b:null,(0,t.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,t.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});h.displayName="ChartTooltip",o.s;let f=r.forwardRef((e,a)=>{let{className:s,hideIcon:r=!1,payload:l,verticalAlign:d="bottom",nameKey:o}=e,{config:c}=m();return(null==l?void 0:l.length)?(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center justify-center gap-4","top"===d?"pb-3":"pt-3",s),children:l.map(e=>{let a="".concat(o||e.dataKey||"value"),s=p(c,e,a);return(0,t.jsxs)("div",{className:(0,n.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==s?void 0:s.icon)&&!r?(0,t.jsx)(s.icon,{}):(0,t.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==s?void 0:s.label]},e.value)})}):null});function p(e,a,s){if("object"!=typeof a||null===a)return;let t="payload"in a&&"object"==typeof a.payload&&null!==a.payload?a.payload:void 0,r=s;return s in a&&"string"==typeof a[s]?r=a[s]:t&&s in t&&"string"==typeof t[s]&&(r=t[s]),r in e?e[r]:e[s]}f.displayName="ChartLegend"},85127:(e,a,s)=>{"use strict";s.d(a,{A0:()=>o,BF:()=>n,Hj:()=>c,XI:()=>d,nA:()=>m,nd:()=>i});var t=s(95155),r=s(12115),l=s(59434);let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",s),...r})})});d.displayName="Table";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",s),...r})});o.displayName="TableHeader";let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...r})});n.displayName="TableBody",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});c.displayName="TableRow";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});i.displayName="TableHead";let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableCell",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"}},e=>{var a=a=>e(e.s=a);e.O(0,[992,73,207,851,880,508,122,228,249,382,782,989,925,169,441,684,358],()=>a(17066)),_N_E=e.O()}]);